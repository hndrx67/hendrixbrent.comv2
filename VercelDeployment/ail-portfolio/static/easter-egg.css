/* Easter egg: trashcan suck animation */

.trash-btn {
  position: fixed;
  right: 16px;
  bottom: 16px;
  width: 48px;
  height: 48px;
  border-radius: 12px;
  border: 1px solid color-mix(in oklab, var(--border, #1f2937) 70%, transparent);
  background: color-mix(in oklab, var(--surface, #101317) 55%, transparent);
  -webkit-backdrop-filter: blur(10px) saturate(140%);
  backdrop-filter: blur(10px) saturate(140%);
  color: var(--text, #e5e7eb);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
  z-index: 999;
  transition: transform .2s ease, box-shadow .2s ease, background-color .2s ease;
}
.trash-btn:hover { transform: translateY(-2px); box-shadow: 0 14px 36px rgba(0,0,0,.4); }
.trash-btn:active { transform: translateY(0); }
.trash-btn svg { width: 22px; height: 22px; fill: currentColor; opacity: .9; }
.trash-btn.active { outline: 2px solid color-mix(in oklab, var(--accent, #7dd3fc) 60%, transparent); }

/* Suck animation: shrink and fade content to bottom-right (trash) */
.egg-active body { background: #000; }

/* Apply transitions to main site regions */
header, main, footer {
  transition: transform 900ms cubic-bezier(.2,.8,.2,1),
              opacity 800ms ease,
              filter 800ms ease;
  transform-origin: 100% 100%; /* towards bottom-right trash */
  will-change: transform, opacity, filter;
}

.egg-active header,
.egg-active main,
.egg-active footer {
  transform: perspective(900px) rotateZ(-10deg) rotateX(22deg) translate3d(6px,6px,0) scale(0.02);
  opacity: 0;
  filter: blur(8px) contrast(0.85) saturate(0.9);
  pointer-events: none;
}

/* Keep the trash button always clickable and visible */
.egg-active .trash-btn { transform: scale(1.05); box-shadow: 0 14px 36px rgba(0,0,0,.55); }

@media (prefers-reduced-motion: reduce) {
  header, main, footer { transition: none !important; }
}

/* Vortex overlay: spiral conic gradient anchored at trash (bottom-right) */
.vortex-overlay {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 998; /* under button (999) */
  opacity: 0;
  transform: none;
  transition: opacity 800ms ease, transform 900ms cubic-bezier(.2,.8,.2,1);
  background:
    radial-gradient(140% 140% at 100% 100%, rgba(0,0,0,0) 0%, rgba(0,0,0,.25) 40%, rgba(0,0,0,.6) 70%, rgba(0,0,0,.9) 100%),
    repeating-conic-gradient(from 0deg at 100% 100%, rgba(167,139,250,.06) 0deg, rgba(167,139,250,.06) 8deg, rgba(125,211,252,.05) 12deg, rgba(125,211,252,0) 24deg);
  mix-blend-mode: normal;
  will-change: transform, opacity;
}

.egg-active .vortex-overlay {
  opacity: 1;
  transform: rotate(360deg) scale(1.08);
}
